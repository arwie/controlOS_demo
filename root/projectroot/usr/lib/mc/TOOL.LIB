
common shared tool_typeNone			as const long = 0
common shared tool_typeMagnet		as const long = 1
common shared tool_typeLaser		as const long = 10

common shared tool_type				as long


<?output('outGrip', 'long', 'delta1c')?>
	system.dout[10000+delta1c_deviceAddress*100+0][1] = not value_
end sub

<?output('outLaser', 'long', 'delta1c')?>
	system.dout[10000+delta1c_deviceAddress*100+1][1] = not value_
end sub


<?lib_init()?>
	tool_outGrip(false)
	tool_outLaser(false)
end sub



public sub tool_select(byval toolType_ as long)
	tool_type = toolType_
	select case tool_type
	case tool_typeMagnet
		delta1.tool = #{0,0,41,0}
	case tool_typeLaser
		delta1.tool = #{37*cosDeg(-60), 37*sinDeg(-60), 0, 0}
	case else
		tool_outGrip(false)
		tool_outLaser(false)
		delta1.tool = #{0,0,0,0}
	end select
end sub


public sub tool_grip(byval grip_ as long)
	select case tool_type
	case tool_typeLaser
		tool_outLaser(grip_)
	case else
		tool_outGrip(grip_)
	end select
end sub
